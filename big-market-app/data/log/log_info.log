24-07-28.12:56:56.603 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on Iroha.lan with PID 95068 (started by smril in /Users/smril/IdeaProjects/big-market/big-market-app)
24-07-28.12:56:56.604 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-07-28.12:56:57.570 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-28.12:56:57.573 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-28.12:56:57.606 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
24-07-28.12:56:59.359 [main            ] INFO  Version                - Redisson 3.23.4
24-07-28.12:56:59.393 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-28.12:56:59.673 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-28.12:56:59.696 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-28.12:57:01.582 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-28.12:57:01.669 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 5.507 seconds (JVM running for 6.473)
24-07-28.12:57:02.222 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-28.12:57:02.703 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-28.12:57:02.841 [main            ] INFO  RaffleStrategyTest     - 测试结果: true
24-07-28.12:57:02.882 [main            ] INFO  DefaultLogicChain      - 抽奖责任链，默认处理 userId: smril, strategyId: 100006, ruleModel: rule_default, awardId: 102
24-07-28.12:57:02.883 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 smril 100006 102 rule_default
24-07-28.12:57:02.925 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId: smril, strategyId: 100006, awardId: 102
24-07-28.12:57:02.927 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_lock, code: 0000
24-07-28.12:57:02.928 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减: userId:smril, strategyId:100006, awardId: 102
24-07-28.12:57:03.001 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_stock, code: 0001
24-07-28.12:57:03.001 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品 userId: smril, strategyId: 100006, awardId: 102, ruleValue: 1,100
24-07-28.12:57:03.051 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-28.12:57:03.068 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-28.12:59:43.805 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on Iroha.lan with PID 95097 (started by smril in /Users/smril/IdeaProjects/big-market/big-market-app)
24-07-28.12:59:43.806 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-07-28.12:59:44.621 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-28.12:59:44.624 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-28.12:59:44.661 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
24-07-28.12:59:46.291 [main            ] INFO  Version                - Redisson 3.23.4
24-07-28.12:59:46.325 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-28.12:59:46.583 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-28.12:59:46.600 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-28.12:59:48.670 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-28.12:59:48.740 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 5.365 seconds (JVM running for 6.218)
24-07-28.12:59:49.270 [main            ] INFO  RaffleStrategyTest     - 测试结果: true
24-07-28.12:59:49.281 [main            ] INFO  DefaultLogicChain      - 抽奖责任链，默认处理 userId: smril, strategyId: 100006, ruleModel: rule_default, awardId: 102
24-07-28.12:59:49.282 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 smril 100006 102 rule_default
24-07-28.12:59:49.308 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-28.12:59:49.687 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-28.12:59:49.753 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId: smril, strategyId: 100006, awardId: 102
24-07-28.12:59:49.754 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_lock, code: 0000
24-07-28.12:59:49.754 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减: userId:smril, strategyId:100006, awardId: 102
24-07-28.12:59:49.757 [main            ] INFO  StrategyRepository     - 策略奖品库存加锁失败 strategy_award_count_key_100006_102_96
24-07-28.12:59:49.758 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_stock, code: 0000
24-07-28.12:59:49.801 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-28.12:59:49.831 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-28.13:00:25.585 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on Iroha.lan with PID 95116 (started by smril in /Users/smril/IdeaProjects/big-market/big-market-app)
24-07-28.13:00:25.586 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-07-28.13:00:26.508 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-28.13:00:26.512 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-28.13:00:26.547 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
24-07-28.13:00:28.427 [main            ] INFO  Version                - Redisson 3.23.4
24-07-28.13:00:28.459 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-28.13:00:28.789 [redisson-netty-2-4] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-28.13:00:28.811 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-28.13:00:30.747 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-28.13:00:30.821 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 5.735 seconds (JVM running for 6.736)
24-07-28.13:00:31.289 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-28.13:00:31.687 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-28.13:00:31.830 [main            ] INFO  RaffleStrategyTest     - 测试结果: true
24-07-28.13:00:31.877 [main            ] INFO  DefaultLogicChain      - 抽奖责任链，默认处理 userId: smril, strategyId: 100006, ruleModel: rule_default, awardId: 102
24-07-28.13:00:31.878 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 smril 100006 102 rule_default
24-07-28.13:00:31.913 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId: smril, strategyId: 100006, awardId: 102
24-07-28.13:00:31.914 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_lock, code: 0000
24-07-28.13:00:31.915 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减: userId:smril, strategyId:100006, awardId: 102
24-07-28.13:00:31.950 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_stock, code: 0001
24-07-28.13:00:31.950 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品开始 userId: smril, strategyId: 100006, awardId: 102, ruleValue: 1,100
24-07-28.13:00:32.015 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-28.13:00:32.041 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
24-07-28.13:07:27.136 [main            ] INFO  RaffleStrategyTest     - Starting RaffleStrategyTest using Java 1.8.0_402 on Iroha.lan with PID 95164 (started by smril in /Users/smril/IdeaProjects/big-market/big-market-app)
24-07-28.13:07:27.137 [main            ] INFO  RaffleStrategyTest     - The following 1 profile is active: "dev"
24-07-28.13:07:28.075 [main            ] INFO  RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
24-07-28.13:07:28.079 [main            ] INFO  RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
24-07-28.13:07:28.121 [main            ] INFO  RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
24-07-28.13:07:29.730 [main            ] INFO  Version                - Redisson 3.23.4
24-07-28.13:07:29.762 [main            ] WARN  DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
24-07-28.13:07:30.001 [redisson-netty-2-5] INFO  MasterPubSubConnectionPool - 1 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-28.13:07:30.020 [redisson-netty-2-13] INFO  MasterConnectionPool   - 5 connections initialized for 127.0.0.1/127.0.0.1:16379
24-07-28.13:07:31.860 [main            ] INFO  EndpointLinksResolver  - Exposing 1 endpoint(s) beneath base path '/actuator'
24-07-28.13:07:31.943 [main            ] INFO  RaffleStrategyTest     - Started RaffleStrategyTest in 5.238 seconds (JVM running for 6.364)
24-07-28.13:07:32.501 [main            ] INFO  HikariDataSource       - HikariPool-1 - Starting...
24-07-28.13:07:32.990 [main            ] INFO  HikariDataSource       - HikariPool-1 - Start completed.
24-07-28.13:07:33.135 [main            ] INFO  RaffleStrategyTest     - 测试结果: true
24-07-28.13:07:33.187 [main            ] INFO  DefaultLogicChain      - 抽奖责任链，默认处理 userId: smril, strategyId: 100006, ruleModel: rule_default, awardId: 102
24-07-28.13:07:33.189 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 smril 100006 102 rule_default
24-07-28.13:07:33.239 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId: smril, strategyId: 100006, awardId: 102
24-07-28.13:07:33.241 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_lock, code: 0000
24-07-28.13:07:33.242 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减: userId:smril, strategyId:100006, awardId: 102
24-07-28.13:07:33.280 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_stock, code: 0001
24-07-28.13:07:33.280 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品开始 userId: smril, strategyId: 100006, awardId: 102, ruleValue: 101:1,100
24-07-28.13:07:33.280 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品配置 userId: smril, strategyId: 100006, awardId: 102, awardRuleValue: 1,100
24-07-28.13:07:33.281 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_luck_award, code: 0001
24-07-28.13:07:33.281 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 smril 100006 102 1,100
24-07-28.13:07:33.559 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"smril"}
24-07-28.13:07:33.565 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":102}
24-07-28.13:07:33.570 [main            ] INFO  DefaultLogicChain      - 抽奖责任链，默认处理 userId: smril, strategyId: 100006, ruleModel: rule_default, awardId: 102
24-07-28.13:07:33.571 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 smril 100006 102 rule_default
24-07-28.13:07:33.588 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId: smril, strategyId: 100006, awardId: 102
24-07-28.13:07:33.588 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_lock, code: 0000
24-07-28.13:07:33.588 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减: userId:smril, strategyId:100006, awardId: 102
24-07-28.13:07:33.593 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_stock, code: 0001
24-07-28.13:07:33.593 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品开始 userId: smril, strategyId: 100006, awardId: 102, ruleValue: 101:1,100
24-07-28.13:07:33.593 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品配置 userId: smril, strategyId: 100006, awardId: 102, awardRuleValue: 1,100
24-07-28.13:07:33.593 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_luck_award, code: 0001
24-07-28.13:07:33.593 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 smril 100006 102 1,100
24-07-28.13:07:33.594 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"smril"}
24-07-28.13:07:33.594 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":102}
24-07-28.13:07:33.598 [main            ] INFO  DefaultLogicChain      - 抽奖责任链，默认处理 userId: smril, strategyId: 100006, ruleModel: rule_default, awardId: 102
24-07-28.13:07:33.599 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-责任链 smril 100006 102 rule_default
24-07-28.13:07:33.603 [main            ] INFO  RuleLockLogicTreeNode  - 规则过滤-次数锁 userId: smril, strategyId: 100006, awardId: 102
24-07-28.13:07:33.603 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_lock, code: 0000
24-07-28.13:07:33.604 [main            ] INFO  RuleStockLogicTreeNode - 规则过滤-库存扣减: userId:smril, strategyId:100006, awardId: 102
24-07-28.13:07:33.611 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_stock, code: 0001
24-07-28.13:07:33.611 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品开始 userId: smril, strategyId: 100006, awardId: 102, ruleValue: 101:1,100
24-07-28.13:07:33.611 [main            ] INFO  RuleLuckAwardLogicTreeNode - 规则过滤-兜底奖品配置 userId: smril, strategyId: 100006, awardId: 102, awardRuleValue: 1,100
24-07-28.13:07:33.611 [main            ] INFO  DecisionTreeEngine     - 决策树引擎【规则树】 treeId: tree_lock, node: rule_luck_award, code: 0001
24-07-28.13:07:33.611 [main            ] INFO  AbstractRaffleStrategy - 抽奖策略计算-规则树 smril 100006 102 1,100
24-07-28.13:07:33.611 [main            ] INFO  RaffleStrategyTest     - 请求参数：{"strategyId":100006,"userId":"smril"}
24-07-28.13:07:33.612 [main            ] INFO  RaffleStrategyTest     - 测试结果：{"awardConfig":"1,100","awardId":102}
24-07-28.13:07:35.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-28.13:07:40.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-28.13:07:40.012 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-28.13:07:45.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-28.13:07:45.008 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-28.13:07:50.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-28.13:07:50.007 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存 strategyId:100006 awardId:102
24-07-28.13:07:55.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-28.13:08:00.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-28.13:08:05.005 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-28.13:08:10.003 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-28.13:08:15.004 [scheduling-1    ] INFO  UpdateAwardStockJob    - 定时任务，更新奖品消耗库存【延迟队列获取，降低对数据库的更新频次，不要产生竞争】
24-07-28.13:08:18.422 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown initiated...
24-07-28.13:08:18.447 [SpringApplicationShutdownHook] INFO  HikariDataSource       - HikariPool-1 - Shutdown completed.
